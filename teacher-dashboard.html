<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Portal - Bright Future Academy</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
:root{
  --primary:#0a1628;
  --accent:#f59e0b;
  --accent2:#3b82f6;
  --accent3:#10b981;
  --purple:#8b5cf6;
  --danger:#ef4444;
  --sidebar-w:275px;
  --bg:#f0f4ff;
  --card:#ffffff;
  --text:#1e293b;
  --muted:#64748b;
  --border:rgba(59,130,246,0.12);
  --shadow:0 4px 24px rgba(59,130,246,0.08);
  --shadow-lg:0 12px 40px rgba(59,130,246,0.14);
}
html{scroll-behavior:smooth;}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);display:flex;min-height:100vh;overflow-x:hidden;}

/* ‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê */
.sidebar{
  width:var(--sidebar-w);position:fixed;top:0;left:0;height:100vh;
  background:var(--primary);
  display:flex;flex-direction:column;z-index:100;
  box-shadow:4px 0 30px rgba(0,0,0,0.25);
}
.sidebar-logo{
  padding:24px 24px 18px;
  border-bottom:1px solid rgba(255,255,255,0.08);
}
.logo-name{font-family:'Cinzel',serif;font-size:14px;font-weight:700;color:var(--accent);line-height:1.3;margin-bottom:4px;}
.logo-sub{font-size:11px;color:rgba(255,255,255,0.35);letter-spacing:0.5px;}

.teacher-info{
  padding:18px 24px;
  border-bottom:1px solid rgba(255,255,255,0.08);
  display:flex;align-items:center;gap:12px;
}
.avatar{
  width:46px;height:46px;border-radius:50%;
  background:linear-gradient(135deg,#8b5cf6,#3b82f6);
  display:flex;align-items:center;justify-content:center;
  font-family:'Cinzel',serif;font-size:18px;font-weight:900;color:#fff;
  flex-shrink:0;
}
.teacher-name{font-size:14px;font-weight:700;color:#f8fafc;margin-bottom:2px;}
.teacher-role{font-size:11px;color:rgba(255,255,255,0.42);}

nav{flex:1;overflow-y:auto;padding:10px 0;}
nav::-webkit-scrollbar{width:4px;}
nav::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:4px;}

.nav-section-label{
  font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;
  color:rgba(255,255,255,0.25);padding:14px 24px 6px;
}
.nav-item{
  display:flex;align-items:center;gap:12px;
  padding:12px 24px;
  color:rgba(248,250,252,0.6);
  font-size:13.5px;font-weight:500;
  cursor:pointer;border-left:3px solid transparent;
  transition:all 0.2s;user-select:none;
}
.nav-item:hover{color:#f8fafc;background:rgba(255,255,255,0.05);}
.nav-item.active{
  color:#f8fafc;
  background:linear-gradient(90deg,rgba(139,92,246,0.18),transparent);
  border-left-color:var(--purple);
}
.nav-item i{font-size:15px;width:20px;text-align:center;flex-shrink:0;}
.nav-item.active i{color:var(--purple);}
.nav-badge{
  margin-left:auto;background:var(--danger);color:#fff;
  font-size:10px;font-weight:700;padding:2px 7px;border-radius:50px;
}

.sidebar-footer{
  padding:14px 24px;border-top:1px solid rgba(255,255,255,0.08);
  font-size:12px;color:rgba(255,255,255,0.3);text-align:center;
}

/* ‚ïê‚ïê‚ïê MAIN ‚ïê‚ïê‚ïê */
.main{margin-left:var(--sidebar-w);flex:1;min-height:100vh;display:flex;flex-direction:column;}

.topbar{
  background:#fff;padding:14px 32px;
  display:flex;align-items:center;justify-content:space-between;
  border-bottom:1px solid var(--border);
  position:sticky;top:0;z-index:50;
  box-shadow:0 2px 12px rgba(59,130,246,0.06);
}
.topbar-left h2{font-family:'Cinzel',serif;font-size:19px;font-weight:900;color:var(--text);}
.topbar-left p{font-size:12px;color:var(--muted);margin-top:2px;}
.topbar-right{display:flex;align-items:center;gap:12px;}
.date-badge{
  background:var(--bg);border:1px solid var(--border);
  border-radius:8px;padding:7px 14px;font-size:12px;font-weight:600;color:var(--text);
}
.icon-btn{
  width:36px;height:36px;border-radius:9px;
  background:var(--bg);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;color:var(--muted);position:relative;transition:all 0.2s;
}
.icon-btn:hover{background:var(--purple);color:#fff;border-color:var(--purple);}
.notif-dot{position:absolute;top:5px;right:5px;width:7px;height:7px;border-radius:50%;background:var(--danger);border:2px solid #fff;}

/* ‚ïê‚ïê‚ïê CONTENT ‚ïê‚ïê‚ïê */
.content{padding:26px 32px;flex:1;}
.section{display:none;animation:fadeIn 0.3s ease;}
.section.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}

/* ‚ïê‚ïê‚ïê STAT CARDS ‚ïê‚ïê‚ïê */
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px;margin-bottom:24px;}
.stats-grid.col3{grid-template-columns:repeat(3,1fr);}
.stats-grid.col5{grid-template-columns:repeat(5,1fr);}
.stat-card{
  background:var(--card);border-radius:14px;padding:22px;
  border:1px solid var(--border);box-shadow:var(--shadow);
  transition:transform 0.2s,box-shadow 0.2s;
}
.stat-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);}
.stat-icon{
  width:46px;height:46px;border-radius:11px;
  display:flex;align-items:center;justify-content:center;
  font-size:19px;margin-bottom:14px;
}
.si-blue{background:rgba(59,130,246,0.12);color:var(--accent2);}
.si-amber{background:rgba(245,158,11,0.12);color:var(--accent);}
.si-green{background:rgba(16,185,129,0.12);color:var(--accent3);}
.si-red{background:rgba(239,68,68,0.12);color:var(--danger);}
.si-purple{background:rgba(139,92,246,0.12);color:var(--purple);}
.stat-value{font-family:'Cinzel',serif;font-size:30px;font-weight:900;color:var(--text);line-height:1;}
.stat-label{font-size:12px;color:var(--muted);margin-top:5px;}

/* ‚ïê‚ïê‚ïê CARDS ‚ïê‚ïê‚ïê */
.card{background:var(--card);border-radius:14px;border:1px solid var(--border);box-shadow:var(--shadow);overflow:hidden;margin-bottom:22px;}
.card-header{
  padding:18px 22px;border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;flex-wrap:gap;gap:10px;
}
.card-header h3{font-size:15px;font-weight:700;color:var(--text);}
.card-body{padding:22px;}

/* ‚ïê‚ïê‚ïê TABLE ‚ïê‚ïê‚ïê */
.table-wrap{overflow-x:auto;}
table{width:100%;border-collapse:collapse;}
th{font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px;padding:10px 14px;text-align:left;background:var(--bg);border-bottom:1px solid var(--border);}
td{padding:13px 14px;font-size:13.5px;border-bottom:1px solid rgba(0,0,0,0.04);vertical-align:middle;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:rgba(139,92,246,0.03);}

/* ‚ïê‚ïê‚ïê BADGES ‚ïê‚ïê‚ïê */
.badge{display:inline-block;padding:3px 9px;border-radius:50px;font-size:11px;font-weight:700;}
.bg{background:rgba(16,185,129,0.12);color:#059669;}
.ba{background:rgba(245,158,11,0.12);color:#d97706;}
.bb{background:rgba(59,130,246,0.12);color:#2563eb;}
.br{background:rgba(239,68,68,0.12);color:#dc2626;}
.bp{background:rgba(139,92,246,0.12);color:#7c3aed;}
.bgr{background:rgba(100,116,139,0.1);color:#475569;}

/* ‚ïê‚ïê‚ïê PROGRESS ‚ïê‚ïê‚ïê */
.progress-bar{background:rgba(59,130,246,0.1);border-radius:50px;height:8px;overflow:hidden;}
.progress-fill{height:100%;border-radius:50px;background:linear-gradient(90deg,var(--purple),var(--accent2));transition:width 0.8s ease;}

/* ‚ïê‚ïê‚ïê TWO / THREE COL ‚ïê‚ïê‚ïê */
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:22px;}
.three-col{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;}

/* ‚ïê‚ïê‚ïê FORMS ‚ïê‚ïê‚ïê */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.form-group{display:flex;flex-direction:column;gap:6px;}
.form-group.full{grid-column:span 2;}
label.fl{font-size:12px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:0.4px;}
input[type=text],input[type=date],input[type=number],select,textarea{
  padding:10px 14px;border:1px solid var(--border);border-radius:9px;
  font-family:'Outfit',sans-serif;font-size:14px;color:var(--text);
  background:#fff;transition:border-color 0.2s;width:100%;
}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--purple);}
textarea{resize:vertical;min-height:80px;}

/* ‚ïê‚ïê‚ïê BUTTONS ‚ïê‚ïê‚ïê */
.btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 20px;border-radius:9px;font-size:13px;font-weight:700;
  border:none;cursor:pointer;font-family:'Outfit',sans-serif;transition:all 0.2s;
}
.btn-primary{background:var(--purple);color:#fff;}
.btn-primary:hover{background:#7c3aed;}
.btn-blue{background:var(--accent2);color:#fff;}
.btn-blue:hover{background:#1d4ed8;}
.btn-green{background:var(--accent3);color:#fff;}
.btn-green:hover{background:#059669;}
.btn-amber{background:var(--accent);color:#fff;}
.btn-amber:hover{background:#d97706;}
.btn-sm{padding:6px 12px;font-size:12px;border-radius:7px;}
.btn-outline{background:transparent;border:1px solid var(--border);color:var(--muted);}
.btn-outline:hover{border-color:var(--purple);color:var(--purple);}
.btn-danger{background:var(--danger);color:#fff;}
.btn-danger:hover{background:#b91c1c;}

/* ‚ïê‚ïê‚ïê ATTENDANCE GRID ‚ïê‚ïê‚ïê */
.att-class-header{
  display:grid;gap:6px;margin-bottom:8px;font-size:11px;font-weight:700;
  color:var(--muted);text-transform:uppercase;letter-spacing:0.3px;
}
.att-row{
  display:grid;gap:6px;align-items:center;
  background:#fff;border:1px solid var(--border);border-radius:10px;
  padding:12px 16px;margin-bottom:8px;transition:all 0.2s;
}
.att-row:hover{border-color:var(--purple);box-shadow:0 2px 12px rgba(139,92,246,0.08);}
.att-btn-grp{display:flex;gap:6px;}
.att-btn{
  width:32px;height:32px;border-radius:7px;border:none;cursor:pointer;
  font-size:13px;font-weight:700;transition:all 0.2s;
}
.att-btn.p{background:rgba(16,185,129,0.15);color:#059669;}
.att-btn.a{background:rgba(239,68,68,0.12);color:#dc2626;}
.att-btn.l{background:rgba(245,158,11,0.12);color:#d97706;}
.att-btn.active-p{background:#10b981;color:#fff;}
.att-btn.active-a{background:#ef4444;color:#fff;}
.att-btn.active-l{background:#f59e0b;color:#fff;}

/* ‚ïê‚ïê‚ïê NOTICE ITEM ‚ïê‚ïê‚ïê */
.notice-item{padding:14px;border-radius:11px;border-left:4px solid var(--purple);background:rgba(139,92,246,0.04);margin-bottom:12px;transition:all 0.2s;}
.notice-item:hover{background:rgba(139,92,246,0.08);transform:translateX(4px);}
.notice-item.urgent{border-left-color:var(--danger);background:rgba(239,68,68,0.04);}
.notice-item.event{border-left-color:var(--accent3);background:rgba(16,185,129,0.04);}
.notice-title{font-size:14px;font-weight:700;color:var(--text);margin-bottom:3px;}
.notice-body{font-size:13px;color:var(--muted);line-height:1.6;margin-bottom:7px;}
.notice-meta{font-size:11px;color:rgba(100,116,139,0.7);display:flex;gap:14px;flex-wrap:wrap;}

/* ‚ïê‚ïê‚ïê STUDENT CARD ‚ïê‚ïê‚ïê */
.student-card{
  background:#fff;border:1px solid var(--border);border-radius:12px;
  padding:18px;transition:all 0.3s;cursor:pointer;
}
.student-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--purple);}
.sc-avatar{
  width:44px;height:44px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-family:'Cinzel',serif;font-size:16px;font-weight:900;color:#fff;
  margin-bottom:12px;
}
.sc-name{font-size:14px;font-weight:700;color:var(--text);margin-bottom:3px;}
.sc-info{font-size:12px;color:var(--muted);}
.sc-grade{font-family:'Cinzel',serif;font-size:22px;font-weight:900;color:var(--accent2);margin-top:8px;}

/* ‚ïê‚ïê‚ïê TIMETABLE ‚ïê‚ïê‚ïê */
.tt-grid{display:grid;grid-template-columns:80px repeat(5,1fr);gap:7px;}
.tt-cell{background:var(--bg);border:1px solid var(--border);border-radius:9px;padding:9px;font-size:11.5px;text-align:center;min-height:65px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;}
.tt-cell.hdr{background:var(--primary);color:#f8fafc;font-weight:700;font-family:'Cinzel',serif;font-size:11px;}
.tt-cell.tim{background:#fff;font-weight:600;color:var(--muted);font-size:10.5px;}
.tt-cell.cls{background:#fff;cursor:default;transition:all 0.2s;}
.tt-cell.cls:hover{border-color:var(--purple);box-shadow:0 2px 8px rgba(139,92,246,0.1);}
.tt-subject{font-weight:700;color:var(--text);font-size:11.5px;}
.tt-class{font-size:10px;color:var(--muted);}
.tt-break{background:rgba(245,158,11,0.08);border-color:rgba(245,158,11,0.2);font-weight:600;color:#d97706;font-size:11px;}
.tt-free{background:rgba(16,185,129,0.06);border-color:rgba(16,185,129,0.2);color:#059669;font-size:11px;font-weight:600;}

/* ‚ïê‚ïê‚ïê MARKS ENTRY ‚ïê‚ïê‚ïê */
.marks-student-row{
  display:grid;grid-template-columns:40px 1fr 1fr 100px 100px 80px;
  gap:10px;align-items:center;
  padding:10px 14px;border-bottom:1px solid rgba(0,0,0,0.04);
}
.marks-student-row:hover{background:rgba(139,92,246,0.03);}
.marks-input{
  width:80px;padding:6px 10px;border:1px solid var(--border);border-radius:7px;
  font-family:'Outfit',sans-serif;font-size:13px;text-align:center;
}
.marks-input:focus{outline:none;border-color:var(--purple);}

/* ‚ïê‚ïê‚ïê PROFILE ‚ïê‚ïê‚ïê */
.profile-hero{
  background:linear-gradient(135deg,#1e0a4a,#0a1a4e,#0a2855);
  border-radius:14px;padding:30px;
  display:flex;align-items:center;gap:22px;
  margin-bottom:22px;color:#f8fafc;
}
.ph-avatar{
  width:76px;height:76px;border-radius:50%;
  background:linear-gradient(135deg,var(--purple),var(--accent2));
  display:flex;align-items:center;justify-content:center;
  font-family:'Cinzel',serif;font-size:28px;font-weight:900;color:#fff;
  flex-shrink:0;border:3px solid rgba(255,255,255,0.18);
}
.ph-name{font-family:'Cinzel',serif;font-size:22px;font-weight:900;margin-bottom:3px;}
.ph-sub{font-size:13px;color:rgba(255,255,255,0.5);}
.ph-badges{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;}
.ph-badge{padding:4px 12px;border-radius:50px;background:rgba(255,255,255,0.1);font-size:11px;font-weight:600;}

.pf{margin-bottom:14px;}
.pf label{font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:0.4px;display:block;margin-bottom:4px;}
.pf span{font-size:14px;font-weight:600;color:var(--text);}
.pf-grid{display:grid;grid-template-columns:1fr 1fr;gap:0;}

/* ‚ïê‚ïê‚ïê MODAL ‚ïê‚ïê‚ïê */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all 0.3s;}
.modal-overlay.open{opacity:1;visibility:visible;}
.modal{background:#fff;border-radius:16px;padding:28px;width:90%;max-width:500px;transform:translateY(20px);transition:transform 0.3s;max-height:90vh;overflow-y:auto;}
.modal-overlay.open .modal{transform:translateY(0);}
.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:22px;}
.modal-header h3{font-family:'Cinzel',serif;font-size:18px;font-weight:900;}
.modal-close{width:32px;height:32px;border-radius:8px;border:none;background:var(--bg);cursor:pointer;font-size:16px;color:var(--muted);display:flex;align-items:center;justify-content:center;}
.modal-close:hover{background:var(--danger);color:#fff;}

/* ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê */
.toast{position:fixed;bottom:28px;right:28px;z-index:9999;background:var(--primary);color:#fff;padding:14px 20px;border-radius:12px;font-size:13px;font-weight:600;display:flex;align-items:center;gap:10px;box-shadow:0 8px 30px rgba(0,0,0,0.25);transform:translateY(80px);opacity:0;transition:all 0.4s;pointer-events:none;}
.toast.show{transform:translateY(0);opacity:1;}
.toast i{color:var(--accent3);font-size:16px;}

/* ‚ïê‚ïê‚ïê SCROLLBAR ‚ïê‚ïê‚ïê */
::-webkit-scrollbar{width:6px;height:6px;}
::-webkit-scrollbar-thumb{background:rgba(139,92,246,0.25);border-radius:4px;}

/* ‚ïê‚ïê‚ïê RESPONSIVE ‚ïê‚ïê‚ïê */
@media(max-width:1100px){
  .stats-grid{grid-template-columns:repeat(2,1fr);}
  .two-col,.three-col{grid-template-columns:1fr;}
  .form-grid{grid-template-columns:1fr;}
  .form-group.full{grid-column:span 1;}
}
@media(max-width:768px){
  .sidebar{transform:translateX(-100%);}
  .main{margin-left:0;}
  .stats-grid{grid-template-columns:1fr 1fr;}
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê -->
<aside class="sidebar">
  <div class="sidebar-logo">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:5px;">
      <i class="fas fa-graduation-cap" style="color:var(--accent);font-size:19px;"></i>
      <div class="logo-name">Bright Future Academy</div>
    </div>
    <div class="logo-sub">Teacher Portal</div>
  </div>

  <div class="teacher-info">
    <div class="avatar">S</div>
    <div>
      <div class="teacher-name">Mrs. Sunita Gupta</div>
      <div class="teacher-role">Physics ¬∑ Class Teacher ‚Äì 11A</div>
    </div>
  </div>

  <nav>
    <div class="nav-section-label">Overview</div>
    <div class="nav-item active" data-section="dashboard"><i class="fas fa-home"></i><span>Dashboard</span></div>
    <div class="nav-item" data-section="timetable"><i class="fas fa-calendar-alt"></i><span>My Timetable</span></div>

    <div class="nav-section-label">Class Management</div>
    <div class="nav-item" data-section="attendance"><i class="fas fa-calendar-check"></i><span>Mark Attendance</span></div>
    <div class="nav-item" data-section="homework"><i class="fas fa-book-open"></i><span>Assign Homework</span></div>
    <div class="nav-item" data-section="marks"><i class="fas fa-pen-to-square"></i><span>Enter Marks</span></div>
    <div class="nav-item" data-section="students"><i class="fas fa-users"></i><span>My Students</span></div>

    <div class="nav-section-label">Communication</div>
    <div class="nav-item" data-section="notices"><i class="fas fa-bell"></i><span>Notices</span><span class="nav-badge">3</span></div>
    <div class="nav-item" data-section="messages"><i class="fas fa-envelope"></i><span>Messages</span><span class="nav-badge">5</span></div>

    <div class="nav-section-label">My Account</div>
    <div class="nav-item" data-section="profile"><i class="fas fa-user"></i><span>Profile</span></div>
  </nav>

  <div class="sidebar-footer">
    <a href="index.html" style="color:rgba(255,255,255,0.3);text-decoration:none;font-size:12px;">
      <i class="fas fa-arrow-left"></i> Back to School Website
    </a>
  </div>
</aside>

<!-- ‚ïê‚ïê‚ïê MAIN ‚ïê‚ïê‚ïê -->
<div class="main">
  <div class="topbar">
    <div class="topbar-left">
      <h2 id="page-title">Teacher Dashboard</h2>
      <p id="page-sub">Welcome back, Mrs. Gupta! Here's your overview for today.</p>
    </div>
    <div class="topbar-right">
      <div class="date-badge"><i class="fas fa-calendar" style="color:var(--purple);margin-right:6px;"></i><span id="today-date"></span></div>
      <div class="icon-btn" onclick="navigate('notices')"><i class="fas fa-bell"></i><div class="notif-dot"></div></div>
    </div>
  </div>

  <div class="content">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section active" id="sec-dashboard">
      <div class="stats-grid stats-grid col5" style="grid-template-columns:repeat(5,1fr);">
        <div class="stat-card"><div class="stat-icon si-blue"><i class="fas fa-users"></i></div><div class="stat-value">42</div><div class="stat-label">My Students</div></div>
        <div class="stat-card"><div class="stat-icon si-green"><i class="fas fa-calendar-check"></i></div><div class="stat-value">94%</div><div class="stat-label">Avg Attendance</div></div>
        <div class="stat-card"><div class="stat-icon si-amber"><i class="fas fa-book"></i></div><div class="stat-value">6</div><div class="stat-label">Periods Today</div></div>
        <div class="stat-card"><div class="stat-icon si-purple"><i class="fas fa-clipboard-list"></i></div><div class="stat-value">8</div><div class="stat-label">Pending HW Reviews</div></div>
        <div class="stat-card"><div class="stat-icon si-red"><i class="fas fa-bell"></i></div><div class="stat-value">3</div><div class="stat-label">New Notices</div></div>
      </div>

      <div class="two-col">
        <!-- Today's Schedule -->
        <div class="card">
          <div class="card-header"><h3>Today's Schedule</h3><span class="badge bb">Wednesday</span></div>
          <div class="card-body" style="padding:0;">
            <div class="table-wrap">
              <table>
                <thead><tr><th>Period</th><th>Time</th><th>Class</th><th>Subject</th><th>Room</th></tr></thead>
                <tbody>
                  <tr><td><b>1st</b></td><td>8:00‚Äì8:45</td><td><span class="badge bb">11A</span></td><td>Physics</td><td>Room 202</td></tr>
                  <tr><td><b>2nd</b></td><td>8:45‚Äì9:30</td><td><span class="badge bp">12B</span></td><td>Physics</td><td>Room 305</td></tr>
                  <tr><td colspan="5" style="background:rgba(245,158,11,0.05);text-align:center;font-size:12px;color:#d97706;font-weight:600;">‚òï Short Break (9:30‚Äì9:50)</td></tr>
                  <tr><td><b>3rd</b></td><td>9:50‚Äì10:35</td><td><span class="badge bb">11A</span></td><td>Physics</td><td>Room 202</td></tr>
                  <tr><td><b>4th</b></td><td>10:35‚Äì11:20</td><td style="color:var(--accent3);font-weight:600;">Free Period</td><td>‚Äî</td><td>Staff Room</td></tr>
                  <tr><td colspan="5" style="background:rgba(59,130,246,0.05);text-align:center;font-size:12px;color:var(--accent2);font-weight:600;">üç± Lunch Break (11:20‚Äì12:00)</td></tr>
                  <tr><td><b>5th</b></td><td>12:00‚Äì12:45</td><td><span class="badge bg">10C</span></td><td>Physics Lab</td><td>Physics Lab</td></tr>
                  <tr><td><b>6th</b></td><td>12:45‚Äì1:30</td><td><span class="badge bp">12B</span></td><td>Physics</td><td>Room 305</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Quick Actions + Pending Reviews -->
        <div style="display:flex;flex-direction:column;gap:22px;">
          <div class="card">
            <div class="card-header"><h3>Quick Actions</h3></div>
            <div class="card-body" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
              <button class="btn btn-primary" onclick="navigate('attendance')"><i class="fas fa-calendar-check"></i>Mark Attendance</button>
              <button class="btn btn-blue" onclick="navigate('homework')"><i class="fas fa-plus"></i>Assign Homework</button>
              <button class="btn btn-green" onclick="navigate('marks')"><i class="fas fa-pen"></i>Enter Marks</button>
              <button class="btn btn-amber" onclick="openNoticeModal()"><i class="fas fa-bullhorn"></i>Post Notice</button>
            </div>
          </div>

          <div class="card">
            <div class="card-header"><h3>Homework Submissions</h3><span class="view-all" onclick="navigate('homework')" style="font-size:13px;font-weight:600;color:var(--purple);cursor:pointer;">View All</span></div>
            <div class="card-body" style="padding:0;">
              <table>
                <thead><tr><th>Assignment</th><th>Class</th><th>Submitted</th><th>Pending</th></tr></thead>
                <tbody>
                  <tr><td>Laws of Motion</td><td><span class="badge bb">11A</span></td><td style="color:var(--accent3);font-weight:700;">38</td><td style="color:var(--danger);font-weight:700;">4</td></tr>
                  <tr><td>Wave Optics</td><td><span class="badge bp">12B</span></td><td style="color:var(--accent3);font-weight:700;">30</td><td style="color:var(--danger);font-weight:700;">8</td></tr>
                  <tr><td>Current Electricity</td><td><span class="badge bg">10C</span></td><td style="color:var(--accent3);font-weight:700;">35</td><td style="color:var(--danger);font-weight:700;">5</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Class Performance -->
      <div class="card">
        <div class="card-header"><h3>Class 11A ‚Äì Performance Overview</h3><span class="badge bg">42 Students</span></div>
        <div class="card-body">
          <div class="three-col">
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">A+ (90‚Äì100%)</span><span style="font-weight:700;color:var(--accent3);">12 students</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:28.5%"></div></div>
            </div>
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">A (80‚Äì90%)</span><span style="font-weight:700;color:var(--accent2);">18 students</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:42.8%"></div></div>
            </div>
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">B+ (70‚Äì80%)</span><span style="font-weight:700;color:var(--accent);">8 students</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:19%"></div></div>
            </div>
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">B (60‚Äì70%)</span><span style="font-weight:700;color:#d97706;">3 students</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:7.1%"></div></div>
            </div>
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">Below 60%</span><span style="font-weight:700;color:var(--danger);">1 student</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:2.4%;background:linear-gradient(90deg,var(--danger),#f97316);"></div></div>
            </div>
            <div>
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;"><span style="font-size:13px;font-weight:600;">Class Average</span><span style="font-weight:700;color:var(--purple);">82.4%</span></div>
              <div class="progress-bar"><div class="progress-fill" style="width:82.4%"></div></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TIMETABLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-timetable">
      <div class="card">
        <div class="card-header"><h3>My Weekly Teaching Schedule</h3><span style="font-size:13px;color:var(--muted);">Physics Dept ¬∑ 2023‚Äì24</span></div>
        <div class="card-body">
          <div style="overflow-x:auto;">
            <div class="tt-grid" style="min-width:700px;">
              <div class="tt-cell hdr">Time</div>
              <div class="tt-cell hdr">Monday</div>
              <div class="tt-cell hdr">Tuesday</div>
              <div class="tt-cell hdr">Wednesday</div>
              <div class="tt-cell hdr">Thursday</div>
              <div class="tt-cell hdr">Friday</div>

              <div class="tt-cell tim">8:00‚Äì8:45</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>

              <div class="tt-cell tim">8:45‚Äì9:30</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics Lab</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 10C</div></div>

              <div class="tt-cell tim">9:30‚Äì9:50</div>
              <div class="tt-cell tt-break" style="grid-column:span 5;">‚òï Short Break</div>

              <div class="tt-cell tim">9:50‚Äì10:35</div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 10C</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics Lab</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>

              <div class="tt-cell tim">10:35‚Äì11:20</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 10C</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell tt-free">Free Period</div>

              <div class="tt-cell tim">11:20‚Äì12:00</div>
              <div class="tt-cell tt-break" style="grid-column:span 5;">üç± Lunch Break</div>

              <div class="tt-cell tim">12:00‚Äì12:45</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 11A</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics Lab</div><div class="tt-class">Class 10C</div></div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics Lab</div><div class="tt-class">Class 11A</div></div>

              <div class="tt-cell tim">12:45‚Äì1:30</div>
              <div class="tt-cell tt-free">Free Period</div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 10C</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 12B</div></div>
              <div class="tt-cell cls"><div class="tt-subject">Physics</div><div class="tt-class">Class 10C</div></div>
              <div class="tt-cell tt-free">Free Period</div>
            </div>
          </div>
          <div style="display:flex;gap:20px;margin-top:18px;flex-wrap:wrap;">
            <div style="display:flex;align-items:center;gap:7px;font-size:12px;color:var(--muted);"><div style="width:14px;height:14px;border-radius:4px;background:#fff;border:1px solid var(--border);"></div>Teaching Period</div>
            <div style="display:flex;align-items:center;gap:7px;font-size:12px;color:var(--muted);"><div style="width:14px;height:14px;border-radius:4px;background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);"></div>Free Period</div>
            <div style="display:flex;align-items:center;gap:7px;font-size:12px;color:var(--muted);"><div style="width:14px;height:14px;border-radius:4px;background:rgba(245,158,11,0.12);border:1px solid rgba(245,158,11,0.3);"></div>Break</div>
          </div>
        </div>
      </div>

      <div class="stats-grid col3">
        <div class="stat-card"><div class="stat-icon si-blue"><i class="fas fa-chalkboard"></i></div><div class="stat-value">28</div><div class="stat-label">Periods per Week</div></div>
        <div class="stat-card"><div class="stat-icon si-purple"><i class="fas fa-users"></i></div><div class="stat-value">3</div><div class="stat-label">Classes Assigned</div></div>
        <div class="stat-card"><div class="stat-icon si-green"><i class="fas fa-flask"></i></div><div class="stat-value">6</div><div class="stat-label">Lab Sessions/Week</div></div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ATTENDANCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-attendance">
      <div class="card" style="margin-bottom:20px;">
        <div class="card-header">
          <h3>Mark Attendance</h3>
          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
            <select id="att-class" style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;" onchange="loadAttendanceClass()">
              <option value="11A">Class 11A (42 Students)</option>
              <option value="12B">Class 12B (38 Students)</option>
              <option value="10C">Class 10C (40 Students)</option>
            </select>
            <input type="date" id="att-date" style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;">
            <select style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;">
              <option>Period 1</option><option>Period 2</option><option>Period 3</option><option>Period 4</option><option>Period 5</option><option>Period 6</option>
            </select>
          </div>
        </div>
        <div class="card-body">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:10px;">
            <div style="display:flex;gap:10px;">
              <button class="btn btn-green btn-sm" onclick="markAll('P')"><i class="fas fa-check"></i>Mark All Present</button>
              <button class="btn btn-danger btn-sm" onclick="markAll('A')"><i class="fas fa-times"></i>Mark All Absent</button>
            </div>
            <div id="att-summary" style="font-size:13px;color:var(--muted);">Present: 0 | Absent: 0 | Late: 0</div>
          </div>

          <div style="display:grid;grid-template-columns:40px 1fr 1fr 120px;gap:10px;padding:0 6px;margin-bottom:8px;">
            <div style="font-size:11px;font-weight:700;color:var(--muted);">#</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">STUDENT NAME</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">ROLL NO.</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">P / A / L</div>
          </div>
          <div id="att-list" style="max-height:420px;overflow-y:auto;padding-right:4px;"></div>

          <div style="margin-top:18px;display:flex;gap:10px;">
            <button class="btn btn-primary" onclick="saveAttendance()"><i class="fas fa-save"></i>Save Attendance</button>
            <button class="btn btn-outline" onclick="loadAttendanceClass()"><i class="fas fa-undo"></i>Reset</button>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header"><h3>Attendance Summary ‚Äì Class 11A</h3></div>
        <div class="card-body" style="padding:0;">
          <div class="table-wrap">
            <table>
              <thead><tr><th>#</th><th>Student Name</th><th>Total Days</th><th>Present</th><th>Absent</th><th>Late</th><th>%</th><th>Status</th></tr></thead>
              <tbody id="att-summary-table"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOMEWORK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-homework">
      <div class="two-col">
        <div class="card">
          <div class="card-header"><h3>Assign New Homework</h3></div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label class="fl">Class</label>
                <select id="hw-class">
                  <option>Class 11A</option><option>Class 12B</option><option>Class 10C</option>
                </select>
              </div>
              <div class="form-group">
                <label class="fl">Subject</label>
                <select><option>Physics</option><option>Physics Lab</option></select>
              </div>
              <div class="form-group">
                <label class="fl">Topic</label>
                <input type="text" id="hw-topic" placeholder="e.g. Laws of Motion">
              </div>
              <div class="form-group">
                <label class="fl">Due Date</label>
                <input type="date" id="hw-due">
              </div>
              <div class="form-group full">
                <label class="fl">Description</label>
                <textarea id="hw-desc" placeholder="Describe the assignment in detail..."></textarea>
              </div>
              <div class="form-group">
                <label class="fl">Priority</label>
                <select id="hw-priority"><option>Normal</option><option>High</option><option>Low</option></select>
              </div>
              <div class="form-group">
                <label class="fl">Type</label>
                <select><option>Written</option><option>Practical</option><option>Project</option><option>Reading</option></select>
              </div>
            </div>
            <div style="margin-top:18px;display:flex;gap:10px;">
              <button class="btn btn-primary" onclick="assignHomework()"><i class="fas fa-paper-plane"></i>Assign Homework</button>
              <button class="btn btn-outline" onclick="clearHWForm()"><i class="fas fa-times"></i>Clear</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><h3>Recent Assignments</h3></div>
          <div class="card-body" style="padding:0;max-height:500px;overflow-y:auto;" id="hw-list"></div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MARKS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-marks">
      <div class="card" style="margin-bottom:20px;">
        <div class="card-header">
          <h3>Enter / Edit Marks</h3>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <select id="marks-class" style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;" onchange="loadMarks()">
              <option value="11A">Class 11A</option><option value="12B">Class 12B</option><option value="10C">Class 10C</option>
            </select>
            <select id="marks-exam" style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;" onchange="loadMarks()">
              <option value="ut1">Unit Test 1</option><option value="midterm">Mid-Term</option><option value="term1">Term 1</option>
            </select>
            <input type="number" id="marks-max" value="100" min="1" style="width:80px;padding:7px 10px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;" placeholder="Max">
          </div>
        </div>
        <div class="card-body" style="padding:0;">
          <div style="display:grid;grid-template-columns:40px 1fr 1fr 100px 80px 80px;gap:10px;padding:10px 14px;background:var(--bg);border-bottom:1px solid var(--border);">
            <div style="font-size:11px;font-weight:700;color:var(--muted);">#</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">STUDENT NAME</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">ROLL NO.</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">MARKS</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">GRADE</div>
            <div style="font-size:11px;font-weight:700;color:var(--muted);">%</div>
          </div>
          <div id="marks-list" style="max-height:440px;overflow-y:auto;"></div>
        </div>
        <div style="padding:16px 22px;border-top:1px solid var(--border);display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
          <button class="btn btn-primary" onclick="saveMarks()"><i class="fas fa-save"></i>Save All Marks</button>
          <button class="btn btn-outline" onclick="loadMarks()"><i class="fas fa-undo"></i>Reset</button>
          <span id="marks-stats" style="font-size:13px;color:var(--muted);margin-left:auto;"></span>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STUDENTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-students">
      <div class="card" style="margin-bottom:20px;">
        <div class="card-header">
          <h3>My Students</h3>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <input type="text" id="student-search" placeholder="Search student..." style="padding:7px 14px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;width:200px;" oninput="filterStudents()">
            <select id="student-class-filter" style="padding:7px 12px;border-radius:8px;border:1px solid var(--border);font-family:'Outfit',sans-serif;font-size:13px;" onchange="filterStudents()">
              <option value="all">All Classes</option>
              <option value="11A">Class 11A</option>
              <option value="12B">Class 12B</option>
              <option value="10C">Class 10C</option>
            </select>
          </div>
        </div>
      </div>
      <div id="students-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NOTICES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-notices">
      <div class="two-col">
        <div class="card">
          <div class="card-header"><h3>Post New Notice</h3></div>
          <div class="card-body">
            <div style="display:flex;flex-direction:column;gap:14px;">
              <div class="form-group">
                <label class="fl">Notice Title</label>
                <input type="text" id="notice-title" placeholder="Enter notice title...">
              </div>
              <div class="form-group">
                <label class="fl">Category</label>
                <select id="notice-type">
                  <option value="academic">Academic</option>
                  <option value="urgent">Urgent</option>
                  <option value="event">Event</option>
                </select>
              </div>
              <div class="form-group">
                <label class="fl">Target</label>
                <select id="notice-target">
                  <option>Class 11A</option><option>Class 12B</option><option>Class 10C</option><option>All Classes</option>
                </select>
              </div>
              <div class="form-group">
                <label class="fl">Message</label>
                <textarea id="notice-body" placeholder="Write notice details..."></textarea>
              </div>
              <button class="btn btn-primary" onclick="postNotice()"><i class="fas fa-bullhorn"></i>Post Notice</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><h3>All Notices</h3></div>
          <div class="card-body" id="notices-display" style="max-height:520px;overflow-y:auto;"></div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MESSAGES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-messages">
      <div class="two-col">
        <div class="card">
          <div class="card-header"><h3>Inbox</h3><span class="badge br">5 Unread</span></div>
          <div class="card-body" style="padding:0;" id="messages-list"></div>
        </div>
        <div class="card">
          <div class="card-header"><h3>Send Message</h3></div>
          <div class="card-body">
            <div style="display:flex;flex-direction:column;gap:14px;">
              <div class="form-group">
                <label class="fl">To</label>
                <select id="msg-to">
                  <option>Parent of Arjun Mehta (11A)</option>
                  <option>Parent of Priya Sharma (11A)</option>
                  <option>Parent of Rohit Kumar (12B)</option>
                  <option>Principal Dr. Rajesh Kumar</option>
                  <option>HOD ‚Äì Physics Dept</option>
                  <option>All Parents ‚Äì Class 11A</option>
                </select>
              </div>
              <div class="form-group">
                <label class="fl">Subject</label>
                <input type="text" id="msg-subject" placeholder="Message subject...">
              </div>
              <div class="form-group">
                <label class="fl">Message</label>
                <textarea id="msg-body" style="min-height:120px;" placeholder="Write your message..."></textarea>
              </div>
              <button class="btn btn-blue" onclick="sendMessage()"><i class="fas fa-paper-plane"></i>Send Message</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PROFILE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="section" id="sec-profile">
      <div class="profile-hero">
        <div class="ph-avatar">S</div>
        <div>
          <div class="ph-name">Mrs. Sunita Gupta</div>
          <div class="ph-sub">Physics Teacher ¬∑ Class Teacher ‚Äì 11A</div>
          <div class="ph-badges">
            <span class="ph-badge">Employee ID: BFA-TCH-047</span>
            <span class="ph-badge">M.Sc. Physics ¬∑ B.Ed.</span>
            <span class="ph-badge">12 Years Experience</span>
          </div>
        </div>
      </div>

      <div class="two-col">
        <div class="card">
          <div class="card-header"><h3>Personal Information</h3></div>
          <div class="card-body">
            <div class="pf-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:0;">
              <div class="pf"><label>Full Name</label><span>Mrs. Sunita Gupta</span></div>
              <div class="pf"><label>Date of Birth</label><span>22 August 1982</span></div>
              <div class="pf"><label>Gender</label><span>Female</span></div>
              <div class="pf"><label>Blood Group</label><span>A+</span></div>
              <div class="pf"><label>Mobile</label><span>+91 99887 76655</span></div>
              <div class="pf"><label>Email</label><span>sunita.gupta@brightfuture.edu.in</span></div>
              <div class="pf" style="grid-column:span 2;"><label>Address</label><span>B-14, Sector 12, Rohini, New Delhi ‚Äì 110085</span></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><h3>Professional Information</h3></div>
          <div class="card-body">
            <div class="pf-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:0;">
              <div class="pf"><label>Employee ID</label><span>BFA-TCH-047</span></div>
              <div class="pf"><label>Department</label><span>Physics</span></div>
              <div class="pf"><label>Designation</label><span>Senior Teacher</span></div>
              <div class="pf"><label>Class Teacher</label><span>Class 11A</span></div>
              <div class="pf"><label>Joining Date</label><span>1 July 2012</span></div>
              <div class="pf"><label>Experience</label><span>12 Years</span></div>
              <div class="pf"><label>Qualification</label><span>M.Sc. Physics, B.Ed.</span></div>
              <div class="pf"><label>Specialization</label><span>Optics & Quantum Physics</span></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><h3>Classes Assigned</h3></div>
          <div class="card-body" style="padding:0;">
            <table>
              <thead><tr><th>Class</th><th>Subject</th><th>Students</th><th>Periods/Week</th></tr></thead>
              <tbody>
                <tr><td><b>11A</b> <span class="badge bb">Class Teacher</span></td><td>Physics</td><td>42</td><td>8</td></tr>
                <tr><td><b>12B</b></td><td>Physics</td><td>38</td><td>10</td></tr>
                <tr><td><b>10C</b></td><td>Physics</td><td>40</td><td>8</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><h3>Achievements & Recognition</h3></div>
          <div class="card-body">
            <div class="notice-item event" style="margin-bottom:10px;"><div class="notice-title">üèÜ Best Teacher Award 2022</div><div class="notice-body">Awarded by Delhi State Education Board for outstanding teaching performance.</div></div>
            <div class="notice-item" style="margin-bottom:10px;"><div class="notice-title">üìö CBSE Resource Person</div><div class="notice-body">Trained as a CBSE resource person for Physics curriculum workshops.</div></div>
            <div class="notice-item event"><div class="notice-title">üî¨ Research Publication 2021</div><div class="notice-body">Published paper on innovative teaching methods in Physics in IJCR journal.</div></div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal">
  <div class="modal">
    <div class="modal-header">
      <h3>Post Quick Notice</h3>
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
    </div>
    <div style="display:flex;flex-direction:column;gap:14px;">
      <div class="form-group"><label class="fl">Title</label><input type="text" id="m-title" placeholder="Notice title"></div>
      <div class="form-group"><label class="fl">Type</label><select id="m-type"><option value="academic">Academic</option><option value="urgent">Urgent</option><option value="event">Event</option></select></div>
      <div class="form-group"><label class="fl">Message</label><textarea id="m-body" placeholder="Notice details..."></textarea></div>
      <button class="btn btn-primary" onclick="postQuickNotice()"><i class="fas fa-bullhorn"></i>Post Notice</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê -->
<div class="toast" id="toast"><i class="fas fa-check-circle"></i><span id="toast-msg">Saved successfully!</span></div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const students11A = [
  {name:'Arjun Mehta',roll:'07',att:92,grade:'A+',color:'#3b82f6'},
  {name:'Priya Sharma',roll:'22',att:96,grade:'A+',color:'#10b981'},
  {name:'Rohit Verma',roll:'31',att:88,grade:'A',color:'#8b5cf6'},
  {name:'Sneha Patel',roll:'36',att:100,grade:'A+',color:'#f59e0b'},
  {name:'Aman Singh',roll:'03',att:84,grade:'B+',color:'#ef4444'},
  {name:'Kavya Nair',roll:'14',att:90,grade:'A',color:'#3b82f6'},
  {name:'Vikram Rao',roll:'40',att:78,grade:'B',color:'#f97316'},
  {name:'Ananya Joshi',roll:'05',att:94,grade:'A+',color:'#10b981'},
  {name:'Dev Kapoor',roll:'09',att:86,grade:'A',color:'#8b5cf6'},
  {name:'Riya Malhotra',roll:'28',att:98,grade:'A+',color:'#3b82f6'},
];
const students12B = [
  {name:'Rahul Gupta',roll:'25',att:88,grade:'A',color:'#8b5cf6'},
  {name:'Simran Kaur',roll:'34',att:92,grade:'A+',color:'#10b981'},
  {name:'Aditya Sharma',roll:'02',att:80,grade:'B+',color:'#f59e0b'},
  {name:'Meena Iyer',roll:'19',att:96,grade:'A+',color:'#3b82f6'},
];
const students10C = [
  {name:'Kabir Mehta',roll:'12',att:90,grade:'A',color:'#ef4444'},
  {name:'Zara Sheikh',roll:'39',att:94,grade:'A+',color:'#8b5cf6'},
  {name:'Aryan Tiwari',roll:'06',att:82,grade:'B+',color:'#10b981'},
  {name:'Diya Bose',roll:'10',att:88,grade:'A',color:'#f59e0b'},
];
const allStudents = [
  ...students11A.map(s=>({...s,class:'11A'})),
  ...students12B.map(s=>({...s,class:'12B'})),
  ...students10C.map(s=>({...s,class:'10C'})),
];

let homeworkList = [
  {class:'11A',subject:'Physics',topic:'Laws of Motion',desc:'Numericals from Ch.5',due:'16 Feb',priority:'High',date:'11 Feb'},
  {class:'12B',subject:'Physics',topic:'Wave Optics',desc:'Derivations and diagrams Ch.10',due:'18 Feb',priority:'Normal',date:'10 Feb'},
  {class:'10C',subject:'Physics',topic:'Current Electricity',desc:'Circuit problems worksheet',due:'17 Feb',priority:'Normal',date:'9 Feb'},
];

let noticesList = [
  {type:'urgent',title:'üî¥ Mid-Term Exam Syllabus Finalized',body:'The mid-term exam syllabus for Physics (Class 11A, 12B, 10C) has been finalized. Students must cover all chapters covered till 20th Feb.',date:'12 Feb 2024',target:'All Classes'},
  {type:'academic',title:'üìù Lab Submission Deadline',body:'Physics lab journals for all classes must be submitted by 19th February. Incomplete journals will not be accepted after the deadline.',date:'10 Feb 2024',target:'All Classes'},
  {type:'event',title:'üî¨ Physics Quiz Competition',body:'An inter-class Physics Quiz will be held on 23rd Feb. Each class may nominate a team of 3 students. Contact Mrs. Gupta to register.',date:'8 Feb 2024',target:'All Classes'},
];

let messagesList = [
  {from:'Mr. Rakesh Mehta',role:"Parent of Arjun Mehta (11A)",subject:'Regarding Mid-Term Preparation',body:'Good morning Mrs. Gupta, I wanted to discuss Arjun\'s preparation for the mid-term exams.',date:'14 Feb',unread:true},
  {from:'Principal Dr. Rajesh Kumar',role:'Principal',subject:'Staff Meeting ‚Äì 16 Feb',body:'Please attend the staff meeting on 16th February at 2:00 PM in the conference hall.',date:'13 Feb',unread:true},
  {from:'Mrs. Priya Mehta',role:"Parent of a Student (11A)",subject:'Leave Application',body:'Kindly grant leave for my daughter Priya Sharma on 20th February due to a family function.',date:'12 Feb',unread:true},
  {from:'HOD ‚Äì Physics',role:'Department Head',subject:'Exam Paper Submission',body:'Please submit the question paper for mid-term Physics (Class 11) by 18th February.',date:'11 Feb',unread:true},
  {from:'Mr. Vikram Singh',role:"Parent of a Student (11A)",subject:'Academic Performance Query',body:'I\'d like to discuss my son\'s recent performance in Physics. Can we schedule a meeting?',date:'10 Feb',unread:true},
  {from:'School Admin',role:'Administration',subject:'Holiday Notice ‚Äì 15 Feb',body:'Reminder: 15th February is a school holiday. Kindly update your lesson plans accordingly.',date:'9 Feb',unread:false},
];

let attendanceState = {};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAVIGATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const pageMeta = {
  dashboard:{title:'Teacher Dashboard',sub:"Welcome back, Mrs. Gupta! Here's your overview for today."},
  timetable:{title:'My Timetable',sub:'Your weekly teaching schedule'},
  attendance:{title:'Mark Attendance',sub:'Record student attendance for your classes'},
  homework:{title:'Assign Homework',sub:'Create and manage homework assignments'},
  marks:{title:'Enter Marks',sub:'Record and edit student examination marks'},
  students:{title:'My Students',sub:'View all students in your assigned classes'},
  notices:{title:'Notices & Announcements',sub:'Post and manage school notices'},
  messages:{title:'Messages',sub:'Communicate with parents and staff'},
  profile:{title:'My Profile',sub:'Your personal and professional information'},
};

function navigate(id){
  document.querySelectorAll('.nav-item').forEach(el=>el.classList.remove('active'));
  document.querySelector(`[data-section="${id}"]`)?.classList.add('active');
  document.querySelectorAll('.section').forEach(el=>el.classList.remove('active'));
  document.getElementById(`sec-${id}`)?.classList.add('active');
  document.getElementById('page-title').textContent = pageMeta[id].title;
  document.getElementById('page-sub').textContent = pageMeta[id].sub;
  window.scrollTo({top:0,behavior:'smooth'});
}
document.querySelectorAll('.nav-item').forEach(item=>{
  item.addEventListener('click',()=>navigate(item.dataset.section));
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
document.getElementById('today-date').textContent = new Date().toLocaleDateString('en-IN',{year:'numeric',month:'long',day:'numeric'});
document.getElementById('att-date').value = new Date().toISOString().split('T')[0];

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function showToast(msg){
  const t = document.getElementById('toast');
  document.getElementById('toast-msg').textContent = msg;
  t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),3000);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function openNoticeModal(){document.getElementById('modal').classList.add('open');}
function closeModal(){document.getElementById('modal').classList.remove('open');}
document.getElementById('modal').addEventListener('click',e=>{if(e.target===e.currentTarget)closeModal();});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ATTENDANCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function getStudentsByClass(cls){
  if(cls==='11A')return students11A;
  if(cls==='12B')return students12B;
  return students10C;
}

function loadAttendanceClass(){
  const cls = document.getElementById('att-class').value;
  const students = getStudentsByClass(cls);
  attendanceState = {};
  students.forEach(s=>attendanceState[s.roll]='P');
  renderAttendance(students);
  renderAttSummary(students);
}

function renderAttendance(students){
  const list = document.getElementById('att-list');
  list.innerHTML = students.map((s,i)=>`
    <div class="att-row" style="grid-template-columns:40px 1fr 1fr 120px;" id="att-row-${s.roll}">
      <div style="font-size:13px;font-weight:700;color:var(--muted);">${String(i+1).padStart(2,'0')}</div>
      <div style="font-size:14px;font-weight:600;">${s.name}</div>
      <div style="font-size:13px;color:var(--muted);">Roll: ${s.roll}</div>
      <div class="att-btn-grp">
        <button class="att-btn p active-p" onclick="setAtt('${s.roll}','P')" id="btn-p-${s.roll}" title="Present">P</button>
        <button class="att-btn a" onclick="setAtt('${s.roll}','A')" id="btn-a-${s.roll}" title="Absent">A</button>
        <button class="att-btn l" onclick="setAtt('${s.roll}','L')" id="btn-l-${s.roll}" title="Late">L</button>
      </div>
    </div>`).join('');
  updateAttSummaryBar();
}

function setAtt(roll, status){
  attendanceState[roll] = status;
  const btn = {P:'p',A:'a',L:'l'};
  ['p','a','l'].forEach(t=>{
    const b = document.getElementById(`btn-${t}-${roll}`);
    b.className = `att-btn ${t}`;
    if(btn[status]===t) b.className += ` active-${t}`;
  });
  updateAttSummaryBar();
}

function markAll(status){
  Object.keys(attendanceState).forEach(roll=>setAtt(roll,status));
}

function updateAttSummaryBar(){
  const vals = Object.values(attendanceState);
  const p = vals.filter(v=>v==='P').length;
  const a = vals.filter(v=>v==='A').length;
  const l = vals.filter(v=>v==='L').length;
  document.getElementById('att-summary').innerHTML =
    `<span style="color:var(--accent3);font-weight:700;">Present: ${p}</span> &nbsp;|&nbsp; <span style="color:var(--danger);font-weight:700;">Absent: ${a}</span> &nbsp;|&nbsp; <span style="color:var(--accent);font-weight:700;">Late: ${l}</span>`;
}

function renderAttSummary(students){
  const tbody = document.getElementById('att-summary-table');
  tbody.innerHTML = students.map((s,i)=>{
    const att = s.att;
    const badge = att>=90?'<span class="badge bg">Good</span>':att>=75?'<span class="badge ba">Average</span>':'<span class="badge br">Low</span>';
    return `<tr>
      <td>${i+1}</td><td><b>${s.name}</b></td><td>50</td>
      <td style="color:var(--accent3);font-weight:700;">${Math.round(50*att/100)}</td>
      <td style="color:var(--danger);font-weight:700;">${Math.round(50*(100-att)/100)}</td>
      <td>1</td><td>${att}%</td><td>${badge}</td>
    </tr>`;
  }).join('');
}

function saveAttendance(){showToast('Attendance saved successfully!');}

loadAttendanceClass();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOMEWORK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderHWList(){
  const list = document.getElementById('hw-list');
  list.innerHTML = homeworkList.map((h,i)=>`
    <div style="padding:14px 18px;border-bottom:1px solid rgba(0,0,0,0.05);${i===homeworkList.length-1?'border:none':''}">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:5px;">
        <div style="font-size:14px;font-weight:700;">${h.topic}</div>
        <span class="badge ${h.priority==='High'?'br':'bb'}">${h.priority}</span>
      </div>
      <div style="font-size:12px;color:var(--muted);margin-bottom:6px;">${h.desc}</div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
        <span class="badge bb">${h.class}</span>
        <span style="font-size:11px;color:var(--muted);"><i class="fas fa-calendar"></i> Due: ${h.due}</span>
        <span style="font-size:11px;color:var(--muted);">Posted: ${h.date}</span>
        <button class="btn btn-sm btn-danger" style="margin-left:auto;" onclick="deleteHW(${i})"><i class="fas fa-trash"></i></button>
      </div>
    </div>`).join('');
}

function assignHomework(){
  const topic = document.getElementById('hw-topic').value.trim();
  const desc = document.getElementById('hw-desc').value.trim();
  const due = document.getElementById('hw-due').value;
  if(!topic){showToast('‚ùå Please enter a topic!');return;}
  homeworkList.unshift({
    class:document.getElementById('hw-class').value,
    subject:'Physics',
    topic,desc,
    due:due||'TBD',
    priority:document.getElementById('hw-priority').value,
    date:'Today'
  });
  renderHWList();
  clearHWForm();
  showToast('Homework assigned successfully!');
}

function deleteHW(i){homeworkList.splice(i,1);renderHWList();showToast('Assignment removed.');}
function clearHWForm(){
  document.getElementById('hw-topic').value='';
  document.getElementById('hw-desc').value='';
  document.getElementById('hw-due').value='';
}

renderHWList();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MARKS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let marksData = {};

function gradeFromPct(p){return p>=90?'A+':p>=80?'A':p>=70?'B+':p>=60?'B':'C';}
function gradeColor(g){return g==='A+'||g==='A'?'bg':g==='B+'?'bb':g==='B'?'ba':'br';}

function loadMarks(){
  const cls = document.getElementById('marks-class').value;
  const students = getStudentsByClass(cls);
  if(!marksData[cls])marksData[cls]={};
  const list = document.getElementById('marks-list');
  list.innerHTML = students.map((s,i)=>{
    const saved = marksData[cls][s.roll]||'';
    return `<div class="marks-student-row" style="grid-template-columns:40px 1fr 1fr 100px 80px 80px;">
      <div style="font-size:13px;font-weight:700;color:var(--muted);">${String(i+1).padStart(2,'0')}</div>
      <div style="font-size:14px;font-weight:600;">${s.name}</div>
      <div style="font-size:13px;color:var(--muted);">Roll: ${s.roll}</div>
      <input type="number" class="marks-input" id="marks-${s.roll}" value="${saved}" min="0"
        onchange="updateMarksRow('${s.roll}')" placeholder="‚Äî">
      <div id="grade-${s.roll}" style="font-size:13px;font-weight:700;">‚Äî</div>
      <div id="pct-${s.roll}" style="font-size:13px;color:var(--muted);">‚Äî</div>
    </div>`;
  }).join('');
  students.forEach(s=>{if(marksData[cls]?.[s.roll])updateMarksRow(s.roll);});
  updateMarksStats();
}

function updateMarksRow(roll){
  const max = parseInt(document.getElementById('marks-max').value)||100;
  const val = parseInt(document.getElementById(`marks-${roll}`)?.value)||0;
  const pct = Math.round(val/max*100);
  const g = gradeFromPct(pct);
  const gEl = document.getElementById(`grade-${roll}`);
  const pEl = document.getElementById(`pct-${roll}`);
  if(gEl)gEl.innerHTML = `<span class="badge ${gradeColor(g)}">${g}</span>`;
  if(pEl)pEl.textContent = pct+'%';
  const cls = document.getElementById('marks-class').value;
  if(!marksData[cls])marksData[cls]={};
  marksData[cls][roll] = val;
  updateMarksStats();
}

function updateMarksStats(){
  const cls = document.getElementById('marks-class').value;
  const max = parseInt(document.getElementById('marks-max').value)||100;
  const vals = Object.values(marksData[cls]||{}).filter(v=>v>0);
  if(!vals.length){document.getElementById('marks-stats').textContent='';return;}
  const avg = (vals.reduce((a,b)=>a+b,0)/vals.length).toFixed(1);
  const pct = Math.round(avg/max*100);
  document.getElementById('marks-stats').innerHTML =
    `Class Avg: <b>${avg}/${max}</b> &nbsp;|&nbsp; <b>${pct}%</b> &nbsp;|&nbsp; Entered: <b>${vals.length}</b>`;
}

function saveMarks(){showToast('Marks saved successfully!');}

loadMarks();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STUDENTS GRID ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderStudents(list){
  document.getElementById('students-grid').innerHTML = list.map(s=>`
    <div class="student-card">
      <div class="sc-avatar" style="background:${s.color};">${s.name.charAt(0)}</div>
      <div class="sc-name">${s.name}</div>
      <div class="sc-info">Roll: ${s.roll} &nbsp;¬∑&nbsp; Class: ${s.class}</div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px;">
        <div style="font-size:12px;color:var(--muted);">Attendance: <b style="color:${s.att>=90?'var(--accent3)':s.att>=75?'var(--accent)':'var(--danger)'};">${s.att}%</b></div>
        <span class="badge ${s.grade==='A+'||s.grade==='A'?'bg':s.grade==='B+'?'bb':'ba'}">${s.grade}</span>
      </div>
    </div>`).join('');
}

function filterStudents(){
  const q = document.getElementById('student-search').value.toLowerCase();
  const cls = document.getElementById('student-class-filter').value;
  const filtered = allStudents.filter(s=>
    (cls==='all'||s.class===cls) &&
    (s.name.toLowerCase().includes(q)||s.roll.includes(q))
  );
  renderStudents(filtered);
}

renderStudents(allStudents);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NOTICES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderNotices(){
  const map={academic:'',urgent:'urgent',event:'event'};
  const tagMap={academic:'bb',urgent:'br',event:'bg'};
  const tagLabel={academic:'Academic',urgent:'Urgent',event:'Event'};
  document.getElementById('notices-display').innerHTML = noticesList.map(n=>`
    <div class="notice-item ${map[n.type]}">
      <div class="notice-title">${n.title}</div>
      <div class="notice-body">${n.body}</div>
      <div class="notice-meta">
        <span><i class="fas fa-calendar"></i> ${n.date}</span>
        <span><i class="fas fa-users"></i> ${n.target}</span>
        <span class="badge ${tagMap[n.type]}">${tagLabel[n.type]}</span>
      </div>
    </div>`).join('');
}

function postNotice(){
  const title = document.getElementById('notice-title').value.trim();
  const body = document.getElementById('notice-body').value.trim();
  if(!title||!body){showToast('‚ùå Please fill in all fields!');return;}
  noticesList.unshift({
    type:document.getElementById('notice-type').value,
    title:'üì¢ '+title,body,
    date:new Date().toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'numeric'}),
    target:document.getElementById('notice-target').value
  });
  renderNotices();
  document.getElementById('notice-title').value='';
  document.getElementById('notice-body').value='';
  showToast('Notice posted successfully!');
}

function postQuickNotice(){
  const title = document.getElementById('m-title').value.trim();
  const body = document.getElementById('m-body').value.trim();
  if(!title){showToast('‚ùå Please enter a title!');return;}
  noticesList.unshift({
    type:document.getElementById('m-type').value,
    title:'üì¢ '+title,body:body||'‚Äî',
    date:new Date().toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'numeric'}),
    target:'All Classes'
  });
  closeModal();
  showToast('Notice posted!');
}

renderNotices();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MESSAGES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderMessages(){
  document.getElementById('messages-list').innerHTML = messagesList.map((m,i)=>`
    <div style="padding:14px 18px;border-bottom:1px solid rgba(0,0,0,0.05);cursor:pointer;transition:background 0.2s;${m.unread?'background:rgba(139,92,246,0.04);':''}"
      onclick="openMessage(${i})" onmouseover="this.style.background='rgba(139,92,246,0.06)'" onmouseout="this.style.background='${m.unread?'rgba(139,92,246,0.04)':'#fff'}'">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:4px;">
        <div style="display:flex;align-items:center;gap:8px;">
          ${m.unread?'<div style="width:7px;height:7px;border-radius:50%;background:var(--purple);flex-shrink:0;"></div>':'<div style="width:7px;height:7px;flex-shrink:0;"></div>'}
          <span style="font-size:14px;font-weight:${m.unread?'700':'600'};color:var(--text);">${m.from}</span>
        </div>
        <span style="font-size:11px;color:var(--muted);">${m.date}</span>
      </div>
      <div style="padding-left:15px;">
        <div style="font-size:13px;font-weight:600;color:var(--text);margin-bottom:2px;">${m.subject}</div>
        <div style="font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:300px;">${m.body}</div>
        <div style="font-size:11px;color:var(--muted);margin-top:3px;">${m.role}</div>
      </div>
    </div>`).join('');
}

function openMessage(i){
  const m = messagesList[i];
  m.unread = false;
  document.getElementById('msg-to').value = m.from;
  document.getElementById('msg-subject').value = 'Re: '+m.subject;
  renderMessages();
  showToast('Message opened ‚Äî reply below');
}

function sendMessage(){
  const to = document.getElementById('msg-to').value;
  const sub = document.getElementById('msg-subject').value.trim();
  const body = document.getElementById('msg-body').value.trim();
  if(!sub||!body){showToast('‚ùå Please fill in all fields!');return;}
  messagesList.unshift({from:'Mrs. Sunita Gupta',role:'Physics Teacher',subject:sub,body,date:'Today',unread:false});
  document.getElementById('msg-subject').value='';
  document.getElementById('msg-body').value='';
  renderMessages();
  showToast(`Message sent to ${to}!`);
}

renderMessages();
</script>
</body>
</html>